## Context

Dashboard 页面目前仅展示标题与说明，缺少对任务与工作流状态的可视化概览。现有数据可通过 IPC 获取任务列表与工作流信息，Board 页面已有按项目加载任务的实现模式，可复用为 Dashboard 的数据入口。

## Goals / Non-Goals

**Goals:**
- 在 Dashboard 展示任务级别的关键指标（按状态聚合）与最近活动列表。
- 支持按当前项目过滤数据（与 Board 页面一致），无项目时展示全局数据。
- 提供清晰的空状态与快捷入口，降低新用户上手成本。
- 保持实现简单，优先复用现有 IPC 与数据模型，不引入新存储结构。

**Non-Goals:**
- 引入复杂分析（趋势图、时间序列分析、跨项目对比）。
- 新增或重构核心数据模型（任务、工作流、执行日志）。
- 增加实时推送或持续刷新机制（可在后续迭代中考虑）。

## Decisions

- **基于任务列表做客户端聚合**
  - 方案：使用 `window.api.task.getAll()` 或 `window.api.task.getByProject(projectId)` 获取任务列表，在渲染层聚合指标。
  - 理由：避免新增 DB 查询或 IPC 复杂度，快速迭代。
  - 替代方案：新增聚合查询 IPC（暂不需要）。

- **最近活动以任务为主，工作流状态按需补充**
  - 方案：最近活动列表以任务 `updatedAt` 排序展示，必要时对列表内任务按需查询 `getWorkflowByTaskId` 获取工作流状态。
  - 理由：控制额外查询数量，保持响应速度。
  - 替代方案：加载所有工作流再关联（数据量大，不合适）。

- **组件拆分保持清晰边界**
  - 方案：将 Dashboard 拆分为概览卡片、活动列表、空状态三个区域，便于独立迭代与测试。
  - 替代方案：全部逻辑集中在单页组件（可读性差）。

- **空状态与快捷入口保持一致性**
  - 方案：复用现有 `CreateTaskDialog` 与项目选择逻辑，在 Dashboard 提供创建入口。
  - 理由：减少新交互，复用已有能力。

## Risks / Trade-offs

- [Risk] 客户端聚合在任务数量较大时性能下降 → Mitigation: 仅对必要字段聚合，并限制最近活动条数（例如 8-12 条）。
- [Risk] 活动列表与真实工作流状态不同步 → Mitigation: 仅在列表中展示工作流状态（如可获取），否则退回任务状态。
- [Risk] 空状态入口与现有流程不一致 → Mitigation: 复用现有创建任务对话框与导航路径。

## Migration Plan

- 无数据迁移。
- 步骤：先完成 Dashboard 数据加载与空状态，再补齐概览卡片与活动列表组件。

## Open Questions

- 指标卡片是否需要时间窗口（如过去 7 天完成数）？
- 是否需要在 Dashboard 添加“快速筛选”或跳转到 Board 的过滤视图？
