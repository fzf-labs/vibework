## Context

当前全局设置缺少任务完成后的提醒配置，用户无法在任务完成时获得即时反馈。本次改动需要在设置页增加“提示音”和“通知”两个 Tab，并在任务完成事件上触发相应提醒。需要同时考虑设置项持久化、事件触发位置、以及系统通知权限处理。

## Goals / Non-Goals

**Goals:**
- 在全局设置中提供“提示音”和“通知”两个 Tab，并可配置启用/禁用
- 任务完成时按设置触发声音与桌面通知
- 处理通知权限申请与拒绝的用户体验

**Non-Goals:**
- 不引入新的通知渠道（如邮件、短信）
- 不实现复杂的声音自定义库（仅使用内置/预置声音）
- 不改变任务执行流程本身

## Decisions

- **设置项存储位置**：使用现有全局设置持久化机制（若无则新增统一配置项），避免分散到任务或会话级配置。
  - 备选：仅在前端本地存储设置；但会导致多端不同步与配置不可控。
- **触发点**：在统一的任务完成事件处理处触发提醒，避免在多个任务类型中重复逻辑。
  - 备选：在各任务执行分支中分别触发；维护成本高、易遗漏。
- **系统通知实现**：优先复用现有通知/系统 API 封装；若无则新增轻量封装（包含权限检查与降级处理）。
  - 备选：直接在 UI 内部使用 toast；无法满足“右上角系统提示”的期望。
- **权限处理策略**：当用户开启通知时触发权限请求；拒绝后提示原因并保持开关关闭。
  - 备选：静默失败；不利于用户理解。

## Risks / Trade-offs

- [权限被拒绝导致通知不可用] → 在设置页显示权限状态与引导说明
- [不同运行环境对通知 API 支持不一致] → 通过统一封装做能力检测与降级提示
- [频繁完成任务导致提醒噪音] → 默认关闭相关开关，用户自主开启
