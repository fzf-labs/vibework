# Proposal: optimize-board-layout

## Summary

优化看板页面和任务详情页的布局，提升用户体验和功能可用性。

## Motivation

当前看板页面和任务详情页存在以下问题：
1. 看板页面点击任务后使用侧边栏展示详情，空间有限
2. 任务详情页的功能区域不够清晰，缺少Git操作等高级功能
3. 布局不够紧凑，没有充分利用屏幕空间

## Goals

1. **看板页面优化**：简化布局为上下两部分，功能区在上，任务看板铺满下方区域
2. **任务详情页重构**：改为独立全屏页面，左右分栏布局，提供更丰富的功能

## Non-Goals

- 不改变现有的任务数据结构
- 不改变路由架构
- 不改变CLI执行逻辑

## Proposed Changes

### 1. 看板页面 (BoardPage)

**当前状态**：
- 点击任务后在右侧显示侧边栏详情
- 功能区和看板混合在一起

**目标状态**：
- 上部功能区：新建任务按钮、IDE打开项目图标
- 下部展示区：任务看板铺满全屏
- 点击任务后导航到独立的任务详情页

### 2. 任务详情页 (TaskDetailPage)

**当前状态**：
- 左侧聊天区域 + 右侧可选的预览面板
- 功能分散

**目标状态**：
- 全屏布局，左右两部分
- **左侧固定区域**：
  - CLI执行情况展示
  - 底部聊天框（AI对话）
- **右侧多功能展示区**：
  - 顶部功能按钮栏
  - 下方展示区域，根据选择的功能显示不同内容：
    - 文件预览
    - 开发服务器
    - Git文件展示（包含合并、PR、变基操作）

## Impact

- 影响文件：`BoardPage.tsx`, `TaskDetailPage.tsx`
- 可能需要新增组件：Git操作面板组件
- 路由无需变更

## Risks

- 布局变更可能影响现有用户习惯
- Git操作功能需要后端API支持

## Timeline

分两个阶段实施：
1. 阶段一：看板页面布局优化
2. 阶段二：任务详情页重构
